当仅用参数 `键` 调用时，从存储在 `键` 的集合中随机返回一个元素。

从Redis 2.6版本开始，当在调用时附加上参数 `数量` ，如果 `数量` 为正数则返回一个大小为 `数量` 的 **唯一元素** 的数组。如果使用负数 `数量` 调用，行为将发生改变，命令允许返回 **多个相同元素** 。这种情况下返回的元素数量等于指定的 `数量` 。

当仅用 `键` 参数调用时，操作类似于 `SPOP` ，然而 `SPOP` 会从集合中删除掉随机选择的元素， `SRANDMEMBER` 仅仅返回随机元素，并不对源集合进行任何改动。

@return

@bulk-string-reply: 在不传递额外参数 `数量` 时命令返回一个随机元素的Bulk应答，或当 `键` 不存在时返回 `nil` 。
@array-reply: 当传递额外 `数量` 参数时命令返回一个元素数组，或当 `键` 不存在时返回空数组。

@examples

```cli
SADD myset one two three
SRANDMEMBER myset
SRANDMEMBER myset 2
SRANDMEMBER myset -5
```

## 关于传递数量时行为的特别说明

当传递数量参数且为正数，返回的元素像是从集合中删除了（就像Bingo游戏中的抽数）。但是元素 **并没有** 从集合中删除。所以从根本上说：

* 不会返回重复元素。
* 如果数量参数大于集合内元素的数量，命令返回集合的所有元素。

当数量参数为负时，行为发生变化，抽出的元素好像又将其还回去一样，所以可以重复取得元素，除了空集合（不存在的键）只会返回一个空数组。

## 返回元素的分布

当集合元素数量较少时返回元素的分布很不均匀，因为使用的近似随机元素函数并不足以保证良好的分布。

其使用的算法实现在dict.c，从哈希表桶中取样并选取非空的。一旦发现了非空的桶，由于在哈希表实现中使用了链接，在对桶内元素的数量进行验证后从中随机选取一个。

这意味着如果哈希表有两个非空桶，一个桶有三个元素而另一个桶仅有一个元素，返回第二个桶中元素的几率将大的多。
