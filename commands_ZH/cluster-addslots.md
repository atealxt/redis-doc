此命令用于修改指定节点的集群配置视图，即把某些哈希槽指定给目标节点。
如果命令执行成功，节点会和这些哈希槽建立映射关系，并将新的配置进行广播。

但是注意：

1. 只有在目标节点视图中所指定的槽还没有被分配时，此命令才会正常执行。节点会拒绝占有已经被别的节点（包括它自己）占用的槽。
2. 如果多次指定同一个槽命令将会失败。
3. 命令有个副作用，如果指定的某个槽的状态为 `importing` ，一旦节点将槽（前一个未绑定的）分配给自己后该状态将会被擦除。

## 例子

例如下面的命令将槽1 2 3分配给执行命令的节点：

    > CLUSTER ADDSLOTS 1 2 3
    OK

由于槽已经被分配，再尝试执行命令则会出错：

    > CLUSTER ADDSLOTS 1 2 3
    ERR Slot 1 is already busy

## 在Redis集群中的用途

此命令只用在集群模式中的如下操作：

1. 在建立新集群时使用ADDSLOTS初始化设置主服务节点，分配哈希槽。
2. 修复有未分配槽的错误集群。

## 槽传递的信息及警告

注意一旦节点将槽分配给了自己，将会把此信息放在心跳包的数据头中进行传播。
但是其他节点只有在已知该槽没有被别的节点绑定、或源节点哈希槽的配置时间点大于当前节点的时候接受该信息。

这意味着此命令需要应用程序深思熟虑小心使用，如 `redis-trib` 那样。使用不当的话会造成集群异常或数据丢失。

@return

@simple-string-reply: 命令成功返回 `OK` ，否则返回错误。
