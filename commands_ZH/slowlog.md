此命令用来读取并重置Redis的慢查询日志。

## Redis慢日志概述

Redis慢日志是一个记录超过指定执行时间的查询的系统。
执行时间不包括I/O操作，例如与客户端的交互、发送应答等等，而是命令的实际执行时间（唯一的线程阻塞、不能同时为其他请求提供服务的命令执行阶段）。

可以使用两个参数配置慢日志： _slowlog-log-slower-than_ 告诉Redis执行的时间限制，以毫秒为单位，让命令记录超过时间限制的日志。
注意负数将禁用慢日志功能，零将记录每条命令。
_slowlog-max-len_ is 是慢日志的长度。
最小值是零。
当新记录一条命令时慢日志已经达到了最大长度，最老的那条将从日志队列中删除以便腾出空间。

可以通过编辑 `redis.conf` 来完成配置，或在服务器运行中使用 `CONFIG GET` 和 `CONFIG SET` 命令。

## 读取慢日志

慢日志存储于内存中，所以不会将慢命令执行信息写入任何文件。
这让慢日志非常快速，可以用很小的性能代价启用对所有命令的日志记录（将参数 _slowlog-log-slower-than_ 设置为零）。

使用 **SLOWLOG GET** 命令读取慢日志，将返回慢日志记录中的每条数据。
可以通过对命令传递一个额外的参数来返回前N条最近记录的日志（例如 **SLOWLOG GET 10** ）。

注意你需要一个近期版本的redis-cli来读取慢日志输出，它使用了一些没有在redis-cli老版本中实现的协议特性（深层嵌套multi bulk应答）。

## 输出格式

```
redis 127.0.0.1:6379> slowlog get 2
1) 1) (integer) 14
   2) (integer) 1309448221
   3) (integer) 15
   4) 1) "ping"
2) 1) (integer) 13
   2) (integer) 1309448128
   3) (integer) 30
   4) 1) "slowlog"
      2) "get"
      3) "100"
```

每个实体由四个字段组成：

* 每个慢日志实体的唯一顺序标识符。
* 记录命令执行时的unix时间戳。
* 需要执行时间的总和，以毫秒为单位。
* 命令及参数的数组。

实体的唯一ID可以用来避免多次重复操作慢日志实体（例如你可能有一个对每个新的慢日志实体给自己发送告警邮件的脚本）

在Redis服务器运行时ID不会被重置，只有当服务重启时才会。

## 获得慢日志的当前长度

可以使用命令 **SLOWLOG LEN** 仅取得慢日志的长度。

## 重置慢日志

可以使用 **SLOWLOG RESET** 命令来重置慢日志。
一旦删除信息将永远丢失。
